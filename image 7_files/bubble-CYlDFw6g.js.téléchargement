import"./modulepreload-polyfill-B5Qt9EMX.js";import{S as R,i as U,s as C,e as w,a as I,b as y,l as g,t as p,c as E,d as m,f as h,r as A,g as S,h as M,m as $,n as Z,j as k}from"./_commonjsHelpers-OiH3xl5W.js";import{g as z,s as j}from"./setupStyles-CGUafWXc.js";import{Q as q}from"./Quickchat-CS1usqyt.js";import{C as f}from"./types-TycpPcdk.js";import{A as B}from"./Avatar-B0iM9TcD.js";const{window:N}=z;function P(o){let n,t,e;return t=new q({props:{class:"size-1/2"}}),{c(){n=w("span"),M(t.$$.fragment),I(n,"class","flex justify-center items-center size-full bg-primary text-message")},m(r,a){y(r,n,a),$(t,n,null),e=!0},p:Z,i(r){e||(m(t.$$.fragment,r),e=!0)},o(r){p(t.$$.fragment,r),e=!1},d(r){r&&h(n),k(t)}}}function Q(o){let n,t;return n=new B({props:{src:o[0]}}),{c(){M(n.$$.fragment)},m(e,r){$(n,e,r),t=!0},p(e,r){const a={};r&1&&(a.src=e[0]),n.$set(a)},i(e){t||(m(n.$$.fragment,e),t=!0)},o(e){p(n.$$.fragment,e),t=!1},d(e){k(n,e)}}}function X(o){let n,t,e,r,a,u;const l=[Q,P],i=[];function _(s,c){return s[0]!==void 0?0:1}return t=_(o),e=i[t]=l[t](o),{c(){n=w("button"),e.c(),I(n,"class","rounded-full shadow-lg size-full overflow-hidden hover:scale-125 transition-transform")},m(s,c){y(s,n,c),i[t].m(n,null),r=!0,a||(u=[g(N,"message",o[2]),g(n,"click",o[1])],a=!0)},p(s,[c]){let b=t;t=_(s),t===b?i[t].p(s,c):(S(),p(i[b],1,1,()=>{i[b]=null}),E(),e=i[t],e?e.p(s,c):(e=i[t]=l[t](s),e.c()),m(e,1),e.m(n,null))},i(s){r||(m(e),r=!0)},o(s){p(e),r=!1},d(s){s&&h(n),i[t].d(),a=!1,A(u)}}}function T(o,n,t){let{bubbleIconURL:e}=n,r=!1;const a=()=>{r?(window.parent.postMessage({type:f.MINIMIZE},"*"),r=!1):(window.parent.postMessage({type:f.MAXIMIZE},"*"),r=!0)},u=l=>{if(l.data.type===f.MINIMIZE){r=!1;return}l.data.type===f.MAXIMIZE&&(r=!0)};return o.$$set=l=>{"bubbleIconURL"in l&&t(0,e=l.bubbleIconURL)},[e,a,u]}class x extends R{constructor(n){super(),U(this,n,T,X,C,{bubbleIconURL:0})}}const v=document.getElementById("app");if(v==null)throw new Error("Missing app element");const L=new URLSearchParams(window.location.search),D=L.get("bubble_icon_url"),d=L.get("primary_color");d!=null&&j({primary_color:d});new x({target:v,props:{bubbleIconURL:D??void 0,primaryColor:d??void 0}});
